<?php

namespace Tests\SimpleCli\Trait;

use SimpleCli\Trait\Open;

/**
 * @coversDefaultClass \SimpleCli\Trait\Open
 */
class OpenTest extends TraitsTestCase
{
    /**
     * @covers ::open
     */
    public function testGetParameters(): void
    {
        $commands = [];
        $opener = new class() {
            use Open;
        };
        $opener->execFunction = static function ($command) use (&$commands) {
            $commands[] = $command;
        };
        $opener->open('https://github.com');

        static::assertSame([
            (preg_match('/^win/i', PHP_OS) ? 'start' : 'xdg-open').' https://github.com',
        ], $commands);
    }
}
